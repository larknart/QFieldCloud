# ===========================================
# QFieldCloud - Coolify Environment Variables
# ===========================================
# Copy this to .env and fill in your values

# -------------------------------------------
# Core Settings
# -------------------------------------------
DEBUG=0
ENVIRONMENT=production
COMPOSE_PROJECT_NAME=qfieldcloud

# IMPORTANT: Generate secure random strings for these!
# Use: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_A_SECURE_KEY
SALT_KEY=CHANGE_ME_GENERATE_ANOTHER_KEY

# Your domain (what Coolify assigns)
QFIELDCLOUD_HOST=qfieldcloud.yourdomain.com

# -------------------------------------------
# External PostgreSQL (postg.mds.gov.my)
# -------------------------------------------
POSTGRES_HOST=postg.mds.gov.my
POSTGRES_PORT=5432
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_DB=qfieldcloud_db
POSTGRES_SSLMODE=prefer

# -------------------------------------------
# MinIO Object Storage
# -------------------------------------------
# Admin credentials (for MinIO console)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# Application credentials (for QFieldCloud app)
MINIO_ACCESS_KEY=qfieldcloud_app
MINIO_SECRET_KEY=CHANGE_ME_ANOTHER_SECURE_PASSWORD
MINIO_BUCKET_NAME=qfieldcloud-data

# Storage configuration (JSON) - connects app to MinIO
STORAGES={"default":{"BACKEND":"storages.backends.s3boto3.S3Boto3Storage","OPTIONS":{"access_key":"${MINIO_ACCESS_KEY}","secret_key":"${MINIO_SECRET_KEY}","bucket_name":"${MINIO_BUCKET_NAME}","endpoint_url":"http://minio:9000","region_name":"us-east-1"}}}

# -------------------------------------------
# Email (configure your SMTP)
# -------------------------------------------
EMAIL_HOST=smtp.yourdomain.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your_email_user
EMAIL_HOST_PASSWORD=your_email_password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# -------------------------------------------
# Localization
# -------------------------------------------
QFIELDCLOUD_DEFAULT_TIME_ZONE=Asia/Kuala_Lumpur
QFIELDCLOUD_DEFAULT_LANGUAGE=en

# -------------------------------------------
# Performance Tuning
# -------------------------------------------
GUNICORN_WORKERS=3
GUNICORN_THREADS=3
GUNICORN_TIMEOUT_S=300
GUNICORN_MAX_REQUESTS=300

# -------------------------------------------
# Optional: Sentry Error Tracking
# -------------------------------------------
SENTRY_DSN=

# -------------------------------------------
# Admin
# -------------------------------------------
QFIELDCLOUD_ADMIN_URI=admin/
